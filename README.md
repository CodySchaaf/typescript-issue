Typescript bug where you get a typescript error if you return a type directly, but not if you return it after assigning it to a variable

See other branches for repo in different versions.  
